const homePage=document.querySelector(".home-page");const singleProductPage=document.querySelector(".rh-single-product");const faqPage=document.querySelector(".faq");const privacyPage=document.querySelector(".privacy");const pricingPage=document.querySelector(".pricing");const affiliatePage=document.querySelector(".affiliate-page");const aboutPage=document.querySelector(".about-us-page");const backdrop=document.querySelector(".gallery-backdrop");const body=document.body;const img=document.querySelector(".gallery-image");const thumbnailGallery=document.querySelector(".gallery-thumbnails");let imgIndex=0;onload=()=>{if(homePage){heroScroller();clientsScroller();testimonialsScroller()}if(singleProductPage){const loader=document.querySelector(".loader");console.log("CV page");loader.style.display="none";singleProductPage.classList.remove("preload-fader");console.log("showing content on load...");coverIframe();startSlick();portfolioGallery();ratingHover()}if(faqPage){console.log("faq page");faqAccordion()}if(privacyPage){console.log("privacy page");privacyTabs()}if(pricingPage){console.log("pricing page");pricingSwitch()}if(affiliatePage){console.log("affiliate page");affiliateSlider()}if(aboutPage){console.log("about us page");aboutSlider()}};onresize=()=>{if(affiliatePage){affiliateSlider()}};function ratingHover(){const stars=document.querySelectorAll(".comment-form-rating i");const container=document.querySelector(".comment-form-rating");stars.forEach((star,index)=>{star.addEventListener("mouseover",function(){addStars(stars,index)});star.addEventListener("click",function(){freezeStars(container)});container.addEventListener("mouseout",removeAllStars,false)})}function addStars(stars,index){Array.from(stars).forEach((item,idx)=>{if(idx<=index){item.classList.add("yellow")}else{item.classList.remove("yellow")}})}function removeAllStars(){const stars=document.querySelectorAll(".comment-form-rating i");stars.forEach(star=>{star.classList.remove("yellow")})}function freezeStars(container){container.removeEventListener("mouseout",removeAllStars,false)}function heroScroller(){const scroller=document.querySelector(".scroller");const words=["Designers","Developers","Managers","Employees","Assistants"];let counter=1;setInterval(()=>{if(counter>words.length-1){counter=0}scroller.textContent=words[counter];counter++},3e3)}function clientsScroller(){jQuery(".clients-slider").slick({slidesToShow:5,slidesToScroll:1,arrows:false,dots:true,autoplay:true,autoplaySpeed:5e3,draggable:true,infinite:true,swipeToSlide:true,responsive:[{breakpoint:800,settings:{slidesToShow:3}},{breakpoint:450,settings:{slidesToShow:2}}]})}function testimonialsScroller(){jQuery(".testimonials-slider").slick({slidesToShow:1,slidesToScroll:1,arrows:false,dots:true,draggable:true,infinite:true,swipeToSlide:true,adaptiveHeight:true})}function coverIframe(){const cover=document.querySelector(".iframe-cover");const iframe=document.querySelector(".iframe-container > iframe");cover.addEventListener("click",()=>{iframe.src+="?autoplay=1";setTimeout(()=>{cover.classList.add("hide")},1e3)})}function startSlick(){jQuery(".single-product ul.products").slick({dots:true,arrows:false,infinite:true,speed:300,slidesToShow:4,slidesToScroll:1,autoplay:true,autoplaySpeed:3e3,responsive:[{breakpoint:1350,settings:{slidesToShow:3}},{breakpoint:1050,settings:{slidesToShow:2}},{breakpoint:768,settings:{centerPadding:"40px",slidesToShow:1}}]})}function autoFontScale(){const max=32;const min=18;const k=270;const title=document.querySelector(".single-product-sidebar .product_title");const titleText=title.innerText;const titleLength=titleText.length;const newSize=k/titleLength;if(newSize>max){title.style.fontSize=max+"px"}else if(newSize<min){title.style.fontSize=min+"px"}else{title.style.fontSize=newSize+"px"}}function portfolioGallery(){const portfolioItem=document.querySelectorAll(".portfolio-thumbnails figure");portfolioItem.forEach((item,index)=>{item.addEventListener("click",e=>{const close=document.querySelector(".gallery-close");const arrowBack=document.querySelector(".gallery-prev");const arrowNext=document.querySelector(".gallery-next");const field=acf.get("designerPortfolio");const indexArr=Object.keys(field[index]["design_project_gallery"]);const thumbnailArr=field[index]["design_project_gallery"];image=new imageObject;image.field=field[index];image.indexArr=indexArr;image.thumbnailArr=thumbnailArr;openGallery();generateThumbnails(thumbnailArr);image.thumbImages=Array.from(thumbnailGallery.children);selectThumbnail(image.thumbImages[0]);img.setAttribute("src",field[index]["design_project_gallery"][imgIndex].url);document.addEventListener("wheel",preventScroll,{passive:false});document.addEventListener("keydown",handleKeypress);close.addEventListener("click",closeGallery);document.addEventListener("touchstart",handleTouchStart);document.addEventListener("touchend",handleTouchEnd);arrowBack.addEventListener("click",prevSlide);arrowNext.addEventListener("click",nextSlide);setTimeout(()=>{document.addEventListener("click",closeOnClick)},100)})})}function handleTouchStart(e){image.touchStartX=e.changedTouches[0].screenX;image.touchStartY=e.changedTouches[0].screenY}function handleTouchEnd(e){image.touchEndX=e.changedTouches[0].screenX;image.touchEndY=e.changedTouches[0].screenY;const diffX=image.touchEndX-image.touchStartX;const diffY=image.touchEndY-image.touchStartY;const modalDiffX=Math.abs(diffX);const modalDiffY=Math.abs(diffY);if(modalDiffX<modalDiffY){closeGallery();return}if(diffX>0){prevSlide()}else if(diffX<0){nextSlide()}}class imageObject{constructor(){this.imgIdx=0}}function nextSlide(){if(image.field["design_project_gallery"][image.imgIdx+1]){image.imgIdx+=1}else{image.imgIdx=0}fadeToImg(image.field["design_project_gallery"][image.imgIdx].url);selectThumbnail(image.thumbImages[image.imgIdx])}function prevSlide(){if(image.field["design_project_gallery"][image.imgIdx-1]){image.imgIdx-=1}else{image.imgIdx=image.indexArr.length-1}fadeToImg(image.field["design_project_gallery"][image.imgIdx].url);selectThumbnail(image.thumbImages[image.imgIdx])}function generateThumbnails(thumbnails){thumbnails.forEach((item,index)=>{const thumb=document.createElement("img");thumb.setAttribute("src",thumbnails[index].url);thumbnailGallery.append(thumb);thumb.addEventListener("click",e=>{if(index===image.imgIdx)return;fadeToImg(e.target.src);image.imgIdx=index;selectThumbnail(e.target)})})}function selectThumbnail(nextThumbnail){image.thumbImages.forEach(item=>{item.classList.remove("selected")});nextThumbnail.classList.add("selected")}function fadeToImg(src){img.classList.add("fade");setTimeout(()=>{img.setAttribute("src",src);img.onload=()=>{img.classList.remove("fade")}},200)}function openGallery(){body.classList.add("modal-gallery-open");if(backdrop.parentElement!==body){body.insertBefore(backdrop,document.body.firstChild)}backdrop.style.top=window.scrollY+"px";backdrop.style.display="grid"}function closeGallery(){img.classList.add("fade");setTimeout(()=>{backdrop.style.display="none";body.classList.remove("modal-gallery-open");document.removeEventListener("wheel",preventScroll,{passive:false});document.removeEventListener("keydown",handleKeypress,{passive:false});document.removeEventListener("touchstart",handleTouchStart);document.removeEventListener("touchend",handleTouchEnd);thumbnailGallery.innerHTML=""},150)}function preventScroll(e){e.preventDefault();e.stopPropagation();return false}function handleKeypress(e){if(e.keyCode===37){prevSlide()}if(e.keyCode===39){nextSlide()}let keys=[32,33,34,35,37,38,39,40];if(keys.includes(e.keyCode)){e.preventDefault();return false}if(e.keyCode===27){closeGallery();return false}}function closeOnClick(e){if(e.target.classList.contains("gallery-backdrop")){closeGallery();document.removeEventListener("click",closeOnClick)}}function faqAccordion(){const accordionHeaders=document.querySelectorAll(".accordion-header");const accordionBodies=document.querySelectorAll(".accordion-body");accordionHeaders.forEach(item=>{item.addEventListener("click",e=>{const accordionBody=e.target.nextElementSibling;const accordionOpen=getComputedStyle(accordionBody,null).getPropertyValue("display");if(accordionOpen==="none"){accordionHeaders.forEach(item=>{item.firstElementChild.classList.remove("rotate")});accordionBodies.forEach(item=>{jQuery(item).slideUp("fast")})}const body=e.target.nextElementSibling;const arrow=e.target.firstElementChild;arrow.classList.toggle("rotate");jQuery(body).slideToggle("fast")})})}function privacyTabs(){const tabs=document.querySelectorAll(".privacy-tab");const contents=document.querySelectorAll(".content");tabs.forEach(item=>{item.addEventListener("click",e=>{const content=Array.from(contents);tabs.forEach(item=>{item.classList.remove("active")});e.target.classList.add("active");content.forEach(item=>{item.classList.remove("shown")});const found=content.find(item=>{return item.dataset.content===e.target.dataset.tab});found.classList.add("shown")})})}function pricingSwitch(){const priceSwitch=document.querySelector(".switch");const switchDesc=document.querySelectorAll(".switch-desc");const spans=document.querySelectorAll(".pricing-switch>span");priceSwitch.addEventListener("click",()=>{switchDesc.forEach(item=>{item.classList.toggle("active")});spans.forEach(item=>{item.classList.toggle("active")})})}function affiliateSlider(){jQuery(".affiliate-cards").slick({arrows:true,slidesToShow:1,slidesToScroll:1,autoplay:false,mobileFirst:true,responsive:[{breakpoint:767,settings:"unslick"}]})}function aboutSlider(){jQuery(".gallery-viewport").slick({slidesToShow:1,slidesToScroll:1,arrows:false,fade:true,asNavFor:".about-gallery"});jQuery(".about-gallery").slick({slidesToShow:5,slidesToScroll:1,asNavFor:".gallery-viewport",dots:true,arrows:false,centerMode:true,focusOnSelect:true,variableWidth:true,autoplay:true,autoplaySpeed:2e3,responsive:[{breakpoint:1e3,settings:{slidesToShow:3}}]});jQuery(".gallery-gallery-mobile").slick({slidesToShow:1,slidesToScroll:1,dots:true,arrows:false,mobileFirst:true,adaptiveHeight:true})}